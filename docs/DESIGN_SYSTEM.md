

# mailCopilot 设计系统规范   
**版本**：V1.1 
**日期**：2026年2月5日  
**核心理念**：信任可视化 · 轻量高效 · 用户主权优先

---

## 一、设计原则（产品理念的视觉表达）

**技术实现基础**  
本设计系统基于 **Tailwind CSS + shadcn/ui + Lucide React + Inter 字体** 实现，所有组件均可通过 shadcn 命令一键添加并深度定制。

| 原则 | 视觉诠释 | 应用场景示例 |  
|------|----------|--------------|  
| **信任可视化** | 用锁形图标、绿色验证标识、透明数据流图传递安全感 | 隐私看板、配置确认页、报告溯源标签 |  
| **轻量高效** | 极简界面、关键信息前置、减少视觉噪音 | 报告摘要页、托盘提示、配置向导 |  
| **用户主权** | 所有开关位置醒目、操作反馈即时、无隐藏逻辑 | 规则编辑器、LLM模式切换、反馈按钮 |  
| **准确性可感知** | 置信度可视化、溯源信息清晰、错误提示友好 | 事项标签、低置信度高亮、反馈入口 |  
| **隐私内生** | 敏感操作需二次确认、数据状态常驻显示 | API Key配置、卸载流程、数据看板 |  

> 💡 **设计哲学**：  
> *“界面是信任的桥梁，而非功能的堆砌”*  
> *“每个像素都应服务于用户对隐私和准确性的感知”*  

---

## 二、色彩系统（传递信任与状态）
### 2.1 核心色板
| 用途 | 色值 | 语义 | 使用规范 |  
|------|------|------|----------|  
| **主色-信任蓝** | `#1890FF` | 核心操作、安全状态 | 按钮、链接、成功提示 |  
| **辅助色-隐私绿** | `#52C41A` | 隐私保护、本地模式 | “本地模式”标签、脱敏开关 |  
| **警示色-复核黄** | `#FAAD14` | 低置信度、需复核 | 事项置信度<0.6时背景色 |  
| **警告色-风险红** | `#F5222D` | 错误、高风险操作 | API Key失效、卸载确认 |  
| **中性色-文本** | `#262626` (深) / `#8C8C8C` (浅) | 正文/辅助文本 | 报告内容、说明文字 |  
| **背景色** | `#FFFFFF` (浅) / `#F5F5F5` (浅灰) | 页面/卡片背景 | 全局背景、模块容器 |  

### 2.2 语义状态色（精准传递信息）
| 状态 | 色值 | 应用场景 |  
|------|------|----------|  
| **高置信度** | `#E6F7FF` (浅蓝背景) + `#1890FF` (文字) | 置信度≥0.8的事项 |  
| **中置信度** | `#FFF7E6` (浅黄背景) + `#FA8C16` (文字) | 0.6≤置信度<0.8 |  
| **低置信度** | `#FFF2E8` (浅橙背景) + `#FA541C` (文字) | 置信度<0.6（高亮提示） |  
| **已脱敏** | `#F6FFED` (浅绿背景) + `#52C41A` (文字) | 报告中标注脱敏字段 |  
| **本地模式** | `#F6FFED` (浅绿) + 锁图标 | 系统托盘/设置页状态标识 |  
| **云端模式** | `#E6F7FF` (浅蓝) + 云图标 | 系统托盘/设置页状态标识 |  


### 2.3 Tailwind CSS 颜色配置参考（建议添加到 tailwind.config.js）

```ts
theme: {
  extend: {
    colors: {
      primary: {
        DEFAULT: '#1890FF',
        foreground: '#FFFFFF',
      },
      privacy: '#52C41A',
      warn: '#FAAD14',
      danger: '#F5222D',
      // 语义状态背景
      'confidence-high': '#E6F7FF',
      'confidence-medium': '#FFF7E6',
      'confidence-low': '#FFF2E8',
      'mode-local': '#F6FFED',
    },
  },
}
```

> ✅ **无障碍要求**：所有色值对比度 ≥ 4.5:1（WCAG AA标准），关键状态辅以图标/文字  

---

## 三、排版系统（清晰传递准确性信息）
### 3.1 字体规范
| 元素       | 字体族                                 | 字号   | 行高   | 字重建议   | 备注                     |
|------------|----------------------------------------|--------|--------|------------|--------------------------|
| **标题H1** | Inter Variable, system-ui              | 24px   | 32px   | 600        | report-title             |
| **标题H2** | Inter Variable, system-ui              | 20px   | 28px   | 600        | section-title            |
| **正文**   | Inter Variable, system-ui              | 14px   | 22px   | 400~500    | body, description        |
| **辅助文本** | Inter Variable, system-ui            | 12px   | 20px   | 400        | meta, source, caption    |
| **代码/索引** | 'JetBrains Mono', 'Consolas', monospace | 13px | 20px   | 400        | Message-ID, file path    |

**字体加载方式**：  
使用 `next/font` 或 `self-host` Inter variable font，优先 `woff2` 格式，支持 `ital`、`wght@300..700`。

### 3.2 文本层次示例（报告事项区块）
```plaintext
[高优] 完成Q3预算审批          ← H2 (20px, #262626, 加粗)
📧 来源：王总监 <wang@...>     ← 辅助文本 (12px, #8C8C8C)
   2026-01-27 09:15 | [财务]Q3预算终版
ℹ️ 置信度：高 (0.87)          ← 置信度标签 (12px, #1890FF, 浅蓝背景)
[原文] [✓] [✗]                ← 操作按钮 (12px, 图标+文字)
```

---

## 四、间距与布局（轻量高效的呼吸感）
### 4.1 间距单位（8px基准网格）
| 级别 | 值 | 应用场景 |  
|------|-----|----------|  
| **XS** | 4px | 元素内边距、图标间距 |  
| **S** | 8px | 段落间距、卡片内边距 |  
| **M** | 16px | 模块间距、表单元素间距 |  
| **L** | 24px | 页面主区块间距 |  
| **XL** | 32px | 页边距、向导步骤间距 |  

### 4.2 布局规范
| 场景 | 布局规则 |  
|------|----------|  
| **报告页面** | 左侧事项列表（70%）+ 右侧溯源面板（30%，可折叠） |  
| **配置向导** | 顶部进度条（5步）+ 中央内容区 + 底部操作按钮 |  
| **规则编辑器** | 左侧规则分类树 + 右侧表单编辑区（卡片式布局） |  
| **系统托盘** | 图标 + 简洁摘要（≤3行）+ 操作按钮（生成/设置） |  

---

## 五、核心组件库（聚焦准确性与隐私场景）
### 5.1 状态标签（传递关键信息）
| 组件 | 视觉规范 | 使用场景 |  
|------|----------|----------|  
| **置信度标签** | 圆角矩形(4px) + 语义色背景 + 文字 | 事项旁显示“高/中/低” |  
| **模式标签** | 锁图标(12px) + “本地模式”文字 + 浅绿背景 | 托盘/设置页状态标识 |  
| **脱敏标签** | 眼睛图标(12px) + “已脱敏：手机号×1" + 浅绿背景 | 报告页脚/数据看板 |  
| **溯源标签** | 信封图标(12px) + 发件人/时间/主题片段 | 每个事项下方 |  

### 5.2 操作按钮（用户主权体现）
| 按钮类型 | 规范 | 示例 |  
|----------|------|------|  
| **主按钮** | `#1890FF` 背景 + 白色文字 + 圆角4px | “生成报告”“保存规则” |  
| **次按钮** | 白色背景 + `#1890FF` 边框 | “测试连接”“导入模板” |  
| **危险按钮** | `#F5222D` 背景 + 白色文字 | “彻底清除数据” |  
| **图标按钮** | 无背景 + 悬停浅灰背景 | 事项旁的 [✓] [✗] [原文] |  

### 5.3 反馈组件（准确性闭环）
| 组件 | 规范 |  
|------|------|  
| **低置信度提示条** | 顶部固定横幅 + `#FFF2E8` 背景 + `#FA541C` 文字 + “发现3条需复核事项” |  
| **反馈按钮组** | 事项右上角：✓ (绿色) / ✗ (灰色) + 悬停提示“标记准确/错误” |  
| **反馈弹窗** | 半透明遮罩 + 居中卡片 + 原因选项（单选）+ “提交”按钮 |  

### 5.4 深度链接组件（溯源体验）
```plaintext
[原文] 按钮规范：
- 图标：🔗 (12px) + “查看原文”文字
- 状态：默认可点击 / 无效时灰色+提示“邮件客户端未检测到”
- 交互：点击后3秒内无响应 → 提示“尝试通用定位方案”
```

### 5.5 图标系统

- **图标库**：Lucide React（官方推荐与 shadcn/ui 搭配）
- **尺寸规范**：
  - 正文图标：16px / 20px
  - 小型标签/按钮：12px / 14px
  - 大操作按钮：20px / 24px
- **颜色继承**：默认跟随当前文字颜色（currentColor）
- **导入方式**：按需导入 `import { Mail, Check, X } from 'lucide-react'`

---

## 六、关键页面模板（准确性与隐私融合）
### 6.1 报告页面模板
```plaintext
┌───────────────────────────────────────────────────────┐
│ MailDigest 事项报告 · 2026-01-28                      │
│ ✅ 高置信度：12条 | ⚠️ 需复核：2条（点击查看）       │ ← 顶部摘要（语义色）
├───────────────────┬───────────────────────────────────┤
│ 待办事项 (高优)   │ 溯源面板（可折叠）                │
│ • [高优] 完成...  │ 📧 来源：王总监 <wang@...>       │
│   📧 来源：...    │ 🕒 2026-01-27 09:15              │
│   ℹ️ 置信度：高   │ 📌 主题：[财务]Q3预算终版        │
│   [原文] [✓] [✗] │ 🔒 已脱敏：手机号×1              │ ← 溯源信息
│ • [需复核] ...    │ 💡 置信度说明：关键词覆盖不足    │
│   📧 来源：...    │                                   │
│   ℹ️ 置信度：低   │                                   │
│   [原文] [✓] [✗] │                                   │
└───────────────────┴───────────────────────────────────┘
ℹ️ 所有事项均可追溯至原始邮件。点击[原文]快速定位
```

### 6.2 隐私看板模板（设置页）
```plaintext
🔒 隐私与数据状态
──────────────────────────────────────
• 当前模式：[本地模式] ← 浅绿标签+锁图标
• 今日处理：15封邮件
• 脱敏字段：手机号×2 | 邮箱×1 ← 浅绿标签
• 数据存储：仅本地（无网络传输）
• 最后同步：2026-01-28 22:00

[✓] 脱敏功能：已启用（可关闭）
[✓] 本地处理：已启用
[ ] 匿名反馈：未启用（点击开启）
```

---

## 七、动效与反馈规范（轻量但精准）
| 场景 | 动效规范 | 目的 |  
|------|----------|------|  
| **配置保存** | 按钮微缩放(0.95→1.0) + 绿色对勾浮现(300ms) | 确认操作成功 |  
| **低置信度提示** | 顶部横幅滑入(200ms) + 轻微脉动(2次) | 吸引注意力但不干扰 |  
| **反馈提交** | ✓/✗ 按钮变色(绿色/红色) + 微提示“已记录”(1.5秒) | 即时反馈，无打断 |  
| **深度链接跳转** | 按钮加载状态(3点脉动) + 成功后绿色对勾 | 降低等待焦虑 |  
| **错误提示** | 输入框红色边框(2px) + 底部文字提示(12px) | 精准定位问题 |  

> ⚠️ **原则**：所有动效时长 ≤300ms，禁用复杂动画，保障低配设备流畅性  

---

## 八、暗色模式规范（可选但推荐）
| 元素 | 浅色模式 | 暗色模式 |  
|------|----------|----------|  
| **背景** | `#FFFFFF` | `#141414` |  
| **卡片** | `#FFFFFF` | `#1F1F1F` |  
| **文字** | `#262626` | `#E8E8E8` |  
| **主色** | `#1890FF` | `#40A9FF` (提亮) |  
| **语义色** | 按需微调亮度 | 保持对比度 ≥ 4.5:1 |  

> ✅ **实现建议**：跟随系统主题自动切换，设置页提供手动覆盖选项  

---

## 九、无障碍设计底线
| 要求 | 规范 |  
|------|------|  
| **键盘导航** | Tab键可访问所有交互元素，焦点环清晰可见(2px #1890FF) |  
| **屏幕阅读器** | 所有图标按钮含aria-label（如“查看原文”“标记准确”） |  
| **颜色依赖** | 状态不依赖纯颜色（如置信度标签同时含文字“高”） |  
| **字体缩放** | 支持系统字体缩放至200%，布局不崩坏 |  
| **对比度** | 所有文本与背景对比度 ≥ 4.5:1（工具验证） |  

---

## 十、设计资源与交付
| 资源类型 | 内容 | 交付物 |  
|----------|------|--------|  
| **设计令牌** | 颜色/间距/字体变量（JSON格式） | `tokens.json` |  
| **Figma组件库** | 按规范构建的可复用组件 | 公开Figma链接 |  
| **图标集** | 24个核心图标（SVG/PNG） | `icons/` 目录 |  
| **页面模板** | 报告页/配置向导/规则编辑器等高保真原型 | Figma页面 |  
| **动效规范** | Lottie示例 + CSS关键帧代码 | `animations/` 目录 |  

> 🌐 **设计系统维护**：  
> - 每次产品迭代同步更新设计系统  
> - 用户反馈中“界面困惑点”纳入优化优先级  
> - 开源设计令牌，接受社区建议  

---

> **设计系统承诺**  
> 🔒 **每个像素传递信任**——颜色、图标、文案皆为隐私与准确性服务  
> 🌱 **轻量但不简陋**——克制设计，聚焦用户核心任务流  
> ♿ **包容性是底线**——无障碍不是附加项，是设计起点  
>  
> **“界面是用户与隐私、准确性之间的最后一道桥梁”**  
>  
> *文档结束 | 个人项目 · 设计即信任 · 持续进化*  
> *© 2026 MailDigest Agent | 设计系统开源 | 隐私优先*  
